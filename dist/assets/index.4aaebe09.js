var J=Object.defineProperty;var ee=(l,e,t)=>e in l?J(l,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[e]=t;var h=(l,e,t)=>(ee(l,typeof e!="symbol"?e+"":e,t),t),te=(l,e,t)=>{if(!e.has(l))throw TypeError("Cannot "+t)};var G=(l,e,t)=>(te(l,e,"read from private field"),t?t.call(l):e.get(l)),V=(l,e,t)=>{if(e.has(l))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(l):e.set(l,t)};import{M as ie,V as M,S as R,D as Y,H as ne,C as L,P as oe,A as v,B as K,a as ae,R as se,b as U,T as le,c as re,d as Z,e as I,W as he,E as ce,f as de,U as ge,g as me,h as fe}from"./vendor.f3ee9309.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function t(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=t(i);fetch(i.href,n)}})();window.exports=window;class ue{constructor(e,t,s,i=0){h(this,"complete",!1);h(this,"title");h(this,"description");h(this,"failed",!1);h(this,"onFail");h(this,"onSuccess");h(this,"onCompletion");h(this,"currentState");h(this,"tasks");this.title=e,this.description=t,this.tasks=s,this.currentState=i}}const w=60,be=50,j=3,B="cylinder",_="liquid",ye="placard",pe=new ue("","",[{next:"CtoA",label:"BtoC"},{next:"complete",label:"CtoA"}]);class Be{constructor(e,t){h(this,"highlightLayer");h(this,"highlightColor");h(this,"highlightReferences");h(this,"highlightingMeshes");h(this,"mesh");h(this,"attach",e=>{this.mesh=e,this.highlightLayer.addMesh(this.mesh,this.highlightColor)});h(this,"detach",()=>{this.highlightLayer.removeMesh(this.mesh),this.highlightReferences=0,this.highlightingMeshes=[]});h(this,"highlightSelf",()=>{this.highlightLayer.isEnabled=!0});h(this,"unhighlightSelf",()=>{this.highlightReferences||(this.highlightLayer.isEnabled=!1)});h(this,"highlightMesh",e=>{if(this.highlightingMeshes.find(s=>s===e))return!1;const t=e.getBehaviorByName(this.name);return t?(t.highlightReferences+=1,t.highlightSelf(),this.highlightingMeshes.push(e),!0):!1});h(this,"unhighlightMesh",e=>{const t=e.getBehaviorByName(this.name);if(!t)return!1;const s=this.highlightingMeshes.findIndex(i=>i===e);return s===-1?!1:(t.highlightReferences-=1,t.unhighlightSelf(),this.highlightingMeshes.splice(s,1),!0)});this.highlightLayer=e,this.highlightColor=t,this.highlightReferences=0,this.highlightingMeshes=[]}get name(){return"Highlight"}init(){}}function y(l,e){return l.getChildMeshes().find(t=>t.name===e)||null}class E{constructor(e,t,s,i){h(this,"name");h(this,"position");h(this,"mesh");h(this,"dragCollision");console.log(e),this.name=s;const n=e.getScene(),r=n.getMeshByName("Table");let o=ie.CreateSphere(`pivot-Cylinder-${s}`,{segments:2,diameterX:.15,diameterY:.33,diameterZ:.2},e.getScene());if(o.visibility=0,e.name=s,e.parent=o,e.rotationQuaternion=null,e.getChildMeshes().forEach(p=>{switch(p.name){case"BeakerwOpacity":p.name=B,p.rotationQuaternion=null,p.rotation.z=2*Math.PI,p.isPickable=!1;break;case"BeakerLiquid":p.name=_,p.isPickable=!1;break}}),r){const p=r.getBoundingInfo().boundingBox,x=y(e,B).getBoundingInfo().boundingBox.maximum.y+1e-8;o.position.y=p.maximumWorld.y+x,o.position.x=(p.maximumWorld.x-p.minimumWorld.x)/j*t+p.minimumWorld.x-.3,o.position.z=(p.centerWorld.z+p.minimumWorld.z)/2,this.position={...o.position}}else o.position.x=-2+t,o.position.y=1.22,o.position.z=.5;o.checkCollisions=!0,o.ellipsoid=new M(.02,.16,.02),this.mesh=o;const m=y(e,_),c=new R("liquid-material");c.diffuseColor=i,m.material=c;const b=y(e,"Label");console.log("Label:",b);const a=new Y("dynamic texture",256,n);a.uAng=Math.PI;const g=new R("Mat",n);g.diffuseTexture=a,b.material=g;const d="bold 220px monospace";a.drawText(e.name.toUpperCase(),65,185,d,"black","white");const f=new ne("highlight-layer");f.innerGlow=!0,f.outerGlow=!1,f.isEnabled=!1,y(e,B).addBehavior(new Be(f,L.Green()));let O=this.mesh.getChildMeshes().find(p=>p.name==="cylinder");this.mesh.animations=O.animations,this.addDragCollision()}addDragCollision(){let e=new oe({dragPlaneNormal:new M(0,0,1)});e.useObjectOrientationForDragging=!1,e.moveAttached=!1,e.onDragStartObservable.add(()=>{}),e.onDragObservable.add(t=>{this.mesh.moveWithCollisions(t.delta)}),e.onDragEndObservable.add(()=>{this.fadeAndRespawn()}),this.mesh.addBehavior(e),this.dragCollision=e}removeDragCollision(){this.mesh.removeBehavior(this.dragCollision)}fadeAndRespawn(e=be){setTimeout(()=>{this.mesh.isPickable=!1;let t=60;this.mesh.name.split("-")[0];let s=this.mesh.getScene(),i=this.mesh.getChildMeshes(),n=i.find(o=>o.name==="cylinder");i.find(o=>o.name==="liquid");let r=[{name:"Invisibility",startValue:1},{name:"Visibility",startValue:0}];r.forEach(o=>{o.init=new v(o.name,"visibility",120,v.ANIMATIONTYPE_FLOAT,v.ANIMATIONLOOPMODE_CONSTANT),o.init.setKeys([{frame:0,value:o.startValue},{frame:t,value:1-o.startValue}])});for(let o=0;o<i.length-1;++o){let m=i[o];s.beginDirectAnimation(m,[r[0].init],0,60,!1)}s.beginDirectAnimation(i[i.length-1],[r[0].init],0,60,!1,void 0,()=>{console.log(this.mesh,this.position),this.mesh.position.x=this.position._x,this.mesh.position.y=this.position._y,this.mesh.position.z=this.position._z,this.mesh.animations=n.animations,this.mesh.rotation.x=0,this.mesh.rotation.y=0,this.mesh.rotation.z=0;for(let o=0;o<i.length-1;++o){let m=i[o];s.beginDirectAnimation(m,[r[1].init],0,60,!1)}s.beginDirectAnimation(i[i.length-1],[r[1].init],0,60,!1,void 0,()=>{this.mesh.isPickable=!0})})},e)}}function Ae(l){l.name="clipboard";const e=l.getScene(),t=e.getMeshByName("Table");if(t){const i=t.getBoundingInfo().boundingBox;l.position.y=i.maximumWorld.y+.003}l.rotationQuaternion=null,l.rotation=new M(0,Math.PI/4,0);const s=e.getMeshByName("pivot-Cylinder-A");s&&(l.position.x=s.position.x+.2,l.position.z=s.position.z+.5)}function Me(l){var e=new K(L.FromHexString("#0984e3"));e.ignoreChildren=!0;var t=l[0],s=K.MakeNotPickableAndWrapInBoundingBox(t);e.attachedMesh=s,e.onScaleBoxDragObservable.add(()=>{console.log("scaleDrag")}),e.onScaleBoxDragEndObservable.add(()=>{const i=e.attachedMesh;if(i){const n=i.getHierarchyBoundingVectors(!0);console.log("size x:",n.max.x-n.min.x),console.log("size y:",n.max.y-n.min.y),console.log("size z:",n.max.z-n.min.z)}console.log("scaleEnd")}),e.onRotationSphereDragObservable.add(()=>{console.log("rotDrag")}),e.onRotationSphereDragEndObservable.add(()=>{console.log("rotEnd")})}function k(l,e,t){const s=l.find(a=>a.name==="__root__"),i=s.getScene();s.name=t;const n=l.find(a=>a.name==="Label"),r=l.find(a=>a.name==="Placard");r.name=ye;const o=new Y("dynamic texture",256,i);o.wAng=-Math.PI/2,o.uAng=Math.PI;const m=new R("Mat",i);m.diffuseTexture=o,n.material=m;const c="bold 220px monospace";o.drawText(s.name.split("-")[1].toUpperCase(),65,185,c,"black","white"),r.addChild(n),r.rotationQuaternion=null,r.rotation=new M(0,Math.PI/2,0);const b=i.getMeshByName("Table");if(b){const a=b.getBoundingInfo().boundingBox;s.position.y=a.maximumWorld.y+.003,s.position.x=(a.maximumWorld.x-a.minimumWorld.x)/j*e+a.minimumWorld.x-.2,s.position.z=(a.centerWorld.z+a.minimumWorld.z)/2+.2}}function ve(l,e,t){let s;return new Promise(i=>{const n="./models/";let r="";var o={};let m=["left","right"];const c=new ae(l);m.forEach(a=>{c.addMeshTask(`load ${a} hand`,"",n,`${a}${r}.glb`)});let b=0;c.onTaskSuccess=a=>{o[m[b]]=a.loadedMeshes[1],a.loadedMeshes[1].name=m[b],s=a.loadedAnimationGroups;for(let g=0;g<s.length;g++)s[g].name=`${m[b]}_${s[g].name}`;b++},c.onTasksDoneObservable.add(()=>{for(let a=0;a<l.animationGroups.length;a++)l.animationGroups[a].pause();e.pointerSelection.detach(),e.input.onControllerAddedObservable.add(a=>{let g=a.inputSource.handedness;console.log(o[g]);let d=o[g].parent.parent;o[g].isPickable=!1;for(let N of t)N.removeDragCollision();let f=(Object.keys(o).indexOf(g)-1)*2-1;o[g].rotation.y=Math.PI*f,o[g].rotation.z=0,o[g].rotation.x=-Math.PI/4,d.parent=a.grip||a.pointer})}),c.loadAsync().then(()=>{i(s)})})}function Ce(l,e,t,s){let i,n=["A","B","C"],r,o=!1;function m(a){for(let g of n){let d=l.getMeshByName(`pivot-Cylinder-${g}`);if(a.intersectsMesh(d,!1))return d}return!1}function c(a){for(let g of n){let d=l.getMeshByName(`pivot-Cylinder-${g}`);if(d!=a&&a.intersectsMesh(d))return d}return!1}function b(a,g,d){if(d){let f=y(g,B),N=y(a,B);d.highlightMesh(N),d.highlightMesh(f),r=g;let O=a.getAbsolutePosition()._x;if(g.getAbsolutePosition()._x<O?(console.log("Left hit!"),a.rotation.y=Math.PI,g.rotation.y=a.rotation.y):(console.log("Right hit!"),a.rotation.y=0,g.rotation.y=a.rotation.y),!o){o=!0;let u=a.name.split("-")[2],A=a.getAnimationByName(`${u}-rotateAroundZ`);console.log(A),A&&(console.log("Label: ",u),l.beginDirectAnimation(y(a,B),[A],0,60,!1,void 0,()=>{}))}}}e.input.onControllerAddedObservable.add(a=>{a.onMotionControllerInitObservable.add(g=>{let d=g;d.handID=g.handedness;let f=new se(M.Zero(),M.Zero(),.25);const N=g.getComponentOfType("squeeze"),O=g.getComponentOfType("trigger");function p(u,A){d.lastPosition=null,clearInterval(A),console.log("Dropped test tube"),d.grabbed=!1,d.meshGrabbed=void 0,console.log("Current hand: ",d),console.log(u),console.log(s),u&&s.find(P=>{console.log(P,u);let D=u.name.split("-");return P.name==D[D.length-1]}).fadeAndRespawn(100)}[O,N].forEach(u=>{u.onButtonStateChangedObservable.add(A=>{let x=d.handID,P,D={left:"Fist",right:"Grip"},z=l.animationGroups.find((C,W)=>C.name===`${x}_${D[x]}`);z.goToFrame(A.value*(z._to-1)+1);let S=m(l.getMeshByName(d.handID));if(A.value>0&&(d.lastPosition=Object.assign({},f.origin)),A.value>0&&!d.grabbed){if(S){i=S,d.meshGrabbed=i,d.grabbed=!0,a.getWorldPointerRayToRef(f),d.lastPosition=Object.assign({},f.origin);const C=y(i,B).getBehaviorByName("Highlight");let W=d.lastPosition,F=f.origin;F!=W&&(P=setInterval(()=>{let $=d.lastPosition;if(a.getWorldPointerRayToRef(f),$&&i&&i.moveWithCollisions(F.subtract($)),!m(l.getMeshByName(x))&&i&&(r&&C.unhighlightMesh(y(r,B)),C.unhighlightMesh(y(i,B)),p(i,P),i=null),i){let H=c(i);if(H)b(i,H,C);else{r&&C.unhighlightMesh(y(r,B)),C.unhighlightMesh(y(i,B));let Q=i.name.split("-")[2],X=i.getAnimationByName(`${Q}-resetRotateAroundZ`);o&&(l.beginDirectAnimation(y(i,B),[X],0,60,!1,void 0,()=>{}),o=!1)}}d.lastPosition=Object.assign({},f.origin)},10))}}else if((!A.value||!S)&&i){const C=y(i,B).getBehaviorByName("Highlight");C.unhighlightMesh(y(i,B)),r&&C.unhighlightMesh(y(r,B)),p(i,P),i=null}})})})})}function q(l){l.rotation.x=0,l.rotation.y=0,l.rotation.z=0}function xe(l,e){l.onBeforeRenderObservable.add(function(){let n=["A","B","C"];for(let r=0;r<n.length;r++){const o=l.getMeshByName(`pivot-Cylinder-${n[r]}`),m=l.getMeshByName("Table");if(m&&o){const c=m.getBoundingInfo().boundingBox;o.position.z=(c.centerWorld.z+c.minimumWorld.z)/2}}});let t=["A","B","C"],s=[];for(let n of t){const r=l.getMeshByName(`pivot-Cylinder-${n}`);s.push(r);let o=new v(`${n}-rotateAroundZ`,"rotation.z",120,v.ANIMATIONTYPE_FLOAT,v.ANIMATIONLOOPMODE_CONSTANT),m=y(r,B);const c=[];c.push({frame:0,value:Math.PI*2}),c.push({frame:60,value:4.62}),m.animations.push(o),o.setKeys(c);let b=new v(`${n}-resetRotateAroundZ`,"rotation.z",120,v.ANIMATIONTYPE_FLOAT,v.ANIMATIONLOOPMODE_CONSTANT);const a=[];a.push({frame:0,value:4.62}),a.push({frame:60,value:Math.PI*2}),m.animations.push(b),b.setKeys(a)}let i=!1;for(let n=0;n<t.length;n++){const r=l.getMeshByName(`pivot-Cylinder-${t[n]}`),o=r.getBehaviorByName("PointerDrag");let m=[];for(let a of s)a!=r&&m.push(a);let c=y(r,B),b=!1;o.onDragObservable.add(()=>{const a=y(r,B).getBehaviorByName("Highlight");let g=!1;for(let d=0;d<t.length;d++){if(n==d)continue;const f=l.getMeshByName(`pivot-Cylinder-${t[d]}`);if(q(r),q(f),r.intersectsMesh(f)){g=!0;let N=f.name.split("-")[2],p=`${r.name.split("-")[2]}to${N}`;if(e.tasks[e.currentState].label===p)console.log("WHAT??"),e.tasks[e.currentState].next==="complete"?window.location.assign("."):e.currentState=e.tasks.indexOf(e.tasks.find(u=>u.label==e.tasks[e.currentState].next));else if(!i){i=!0;const u=new U("particles",500,l);u.particleTexture=new le("https://raw.githubusercontent.com/PatrickRyanMS/BabylonJStextures/master/FFV/smokeParticleTexture.png",l),u.minLifeTime=.5,u.maxLifeTime=.7,u.emitRate=100,u.gravity=new M(0,.5,0),u.minSize=.01,u.maxSize=.07,u.createPointEmitter(new M(0,0,0),new M(0,1,0));const A=y(f,_);u.addColorGradient(1,re.FromColor3(A.material.diffuseColor,1)),u.blendMode=U.BLENDMODE_STANDARD,u.emitter=f.position,u.start()}if(a){let u=y(f,B);a.highlightMesh(c),a.highlightMesh(u);let A=r.getAbsolutePosition()._x,x=f.getAbsolutePosition()._x;if(console.log("Current x: ",A,"Target x: ",x),x<A?(console.log("Left hit!"),c.rotation.y=Math.PI,f.rotation.y=c.rotation.y):(console.log("Right hit!"),c.rotation.y=0,f.rotation.y=c.rotation.y),!b){let P=c.getAnimationByName(`${t[n]}-rotateAroundZ`);b=!0,l.beginDirectAnimation(c,[P],0,60,!1,void 0,()=>{})}}break}else a.unhighlightMesh(y(f,B)),f.rotation.x=0,f.rotation.y=0,f.rotation.z=0}if(g==!1){a.unhighlightMesh(c);let d=c.getAnimationByName(`${t[n]}-resetRotateAroundZ`);b&&(b=!1,console.log(c,d,`${t[n]}-resetRotateAroundZ`),l.beginDirectAnimation(c,[d],0,60,!1,void 0,()=>{}))}}),o.onDragEndObservable.add(()=>{const a=y(r,B).getBehaviorByName("Highlight");for(let g of m){if(g==c)continue;let d=y(g,B);if(a.unhighlightMesh(c),a.unhighlightMesh(d),c.intersectsMesh(g)){let f=c.getAnimationByName(`${t[n]}-resetRotateAroundZ`);c.rotation.z==4.62&&l.beginDirectAnimation(c,[f],0,60,!1,void 0,()=>{})}}})}}var T;class Ne{constructor(e){h(this,"flying",!1);h(this,"active",!1);h(this,"camera");h(this,"mesh");h(this,"offset",.3);h(this,"animations");h(this,"returnPosition");h(this,"returnRotation");h(this,"onPointerDownObserver");h(this,"xrCamera");h(this,"attach",(e,t,s,i,n)=>{const r=e.getScene();if(this.mesh=e,!t&&(t=r.activeCamera,!t))throw new Error("The scene has no active camera, and no camera was provided.");this.camera=t,s||(s=this.mesh.position),i||(i=this.mesh.rotation),n&&(this.offset=n),this.returnPosition=s,this.returnRotation=i,this.onPointerDownObserver=r.onPointerObservable.add(this.clipboardClick)});h(this,"detach",()=>{this.mesh.getScene().onPointerObservable.remove(this.onPointerDownObserver)});h(this,"clipboardClick",(e={type:Z.POINTERDOWN,pickInfo:{pickedMesh:this.mesh}})=>{var t;if(e.type===Z.POINTERDOWN){const s=(t=e.pickInfo)==null?void 0:t.pickedMesh;if(s&&(s===this.mesh||s.isDescendantOf(this.mesh))&&!this.flying){const i=this.active?w/2:0,n=this.active?0:w/2;G(this,T).call(this),this.flying=!0,this.mesh.billboardMode==I.BILLBOARDMODE_ALL?this.mesh.billboardMode=I.BILLBOARDMODE_NONE:this.mesh.billboardMode=I.BILLBOARDMODE_ALL,this.mesh.getScene().beginDirectAnimation(this.mesh,this.animations,i,n,!1,void 0,()=>{this.flying=!1,this.active=!this.active})}}});h(this,"calculateTargetPositionWithOffset",e=>{if(this.xrCamera!==void 0&&this.xrCamera.state===he.IN_XR){const r=this.xrCamera.camera._position.subtract(this.returnPosition).scale(1-e/M.Distance(this.returnPosition,this.xrCamera.camera._position));return this.returnPosition.add(r)}const s=this.camera._position.subtract(this.returnPosition).scale(1-e/M.Distance(this.returnPosition,this.camera._position));return this.returnPosition.add(s)});h(this,"setClipboardUp",()=>new M(3.1468286,4.6617744,1.680752));V(this,T,()=>{const e=this.animations.find(({name:n})=>n==="translate"),t=this.animations.find(({name:n})=>n==="rotate"),s=[{frame:0,value:this.returnPosition},{frame:w/2,value:this.calculateTargetPositionWithOffset(this.offset)}],i=[{frame:0,value:this.returnRotation},{frame:w/2,value:this.setClipboardUp()}];e.setKeys(s),t.setKeys(i)});const t=new v("translate","position",w,v.ANIMATIONTYPE_VECTOR3),s=new v("rotate","rotation",w,v.ANIMATIONTYPE_VECTOR3);this.animations=[t,s],this.xrCamera=e}get name(){return"FlyToCamera"}init(){}}T=new WeakMap;console.log=()=>{};class Pe{constructor(){h(this,"handAnimation");h(this,"sop");h(this,"models");h(this,"cylinders");this.cylinders=[];let e="TLLGraduatedCylinderNewLabel.glb";this.models=[{fileName:"NewLaboratoryUNFINISHED.glb",callback:t=>this.createRoom(t),label:"floor"},{fileName:"clipBoardWithPaperCompressedTexture.glb",callback:t=>Ae(t[0])},{fileName:"Placard_Label.glb",callback:t=>k(t,1,"Placard-A")},{fileName:"Placard_Label.glb",callback:t=>k(t,2,"Placard-B")},{fileName:"Placard_Label.glb",callback:t=>k(t,3,"Placard-C")},{fileName:e,callback:t=>this.cylinders.push(new E(t[0],1,"A",new L(1,0,0))),label:"Cylinder-A"},{fileName:e,callback:t=>this.cylinders.push(new E(t[0],2,"B",new L(0,1,0))),label:"Cylinder-B"},{fileName:e,callback:t=>this.cylinders.push(new E(t[0],3,"C",new L(0,0,1))),label:"Cylinder-C"}].map(function(t){return Object.assign({},{fileName:"LabBench.glb",root:"./models/",callback:Me,label:"NoLabel"},t)}),this.createScene().then(t=>{for(let s of["A","B","C"])Object.assign({},t.getMeshByName(`pivot-Cylinder-${s}`).position);this.processScene(t,this.cylinders)})}async processScene(e,t){let s=e.getCameraByName("camera"),i=e.getLightByName("light1"),n;s.speed=.16;let r=setInterval(()=>{i.intensity>=1?clearInterval(r):i.intensity+=.1},60);const o=["WallsandFloor","WallsAndFloor.001"],m=[];for(let b of o){console.log(b);const a=e.getMeshByName(b);a&&m.push(a)}let c={floorMeshes:m,inputOptions:{doNotLoadControllerMeshes:!0}};n=await e.createDefaultXRExperienceAsync(c),n.pointerSelection.displayLaserPointer=!1,n.pointerSelection.displaySelectionMesh=!1,ve(e,n,t).then(b=>{const a=e.getMeshByName("clipboard");if(n){const g=new Ne(n.baseExperience);a.addBehavior(g)}xe(e,pe),Ce(e,n,b,t)})}createRoom(e){const t=["WallsandFloor","WallsAndFloor.001","Table","Roof","Countertop","Walls"];let s,i;for(let n of t){const r=e.find(o=>o.name===n);if(r&&(r.checkCollisions=!0,r.name==="Table")){const m=r.getBoundingInfo().boundingBox.center.x;s=r.getScene(),i=s.getCameraByName("camera"),i.position.x=m-.7}}}createScene(){return new Promise(e=>{const t=document.getElementById("canvas"),s=new ce(t,!0,{stencil:!0}),i=new de(s);i.collisionsEnabled=!0,window.addEventListener("resize",function(){s.resize()});const n=new ge("camera",new M(0,1.84,-1.134),i);n.ellipsoid=new M(.4,.7,.4),n.attachControl(t,!0),n.applyGravity=!0,n.minZ=0,n.speed=0,n.checkCollisions=!0,n.keysUp.push(87),n.keysDown.push(83),n.keysLeft.push(65),n.keysRight.push(68);var r=new me("light1",new M(1,1,0),i);r.intensity=0,Promise.all(this.models.map(o=>new Promise(m=>fe.ImportMesh("",o.root,o.fileName,i,function(c){o.mesh=c,m(c)})))).then(()=>{let o=[];this.models.map(m=>{o.push(m.callback(m.mesh)),e(i)})}),window.addEventListener("keydown",o=>{o.shiftKey&&o.ctrlKey&&o.altKey&&o.keyCode===73&&(i.debugLayer.isVisible()?i.debugLayer.hide():i.debugLayer.show())}),s.runRenderLoop(()=>{i.render()})})}}new Pe;
